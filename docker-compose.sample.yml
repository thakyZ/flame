version: '3.6'

services:
  flame:
    image: pawelmalak/flame:latest
    container_name: Flame
    build:
      context: .
      dockerfile: ./.docker/Dockerfile
      labels:
        - "flame.type=application" # "app" works too
        - "flame.name=My container"
        - "flame.url=https://example.com"
        - "flame.icon=icon-name" # optional, default is "docker"
        # - flame.icon=custom to make changes in app. ie: custom icon upload
    volumes:
      - /path/to/host/data:/app/data
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 5005:5005
    ##secrets:
    ##  - password # optional but required for (1)
    ##environment:
    ##  - PASSWORD=flame_password
    ##  - PASSWORD_FILE=/run/secrets/password # optional but required for (1)
    restart: unless-stopped

# optional but required for Docker secrets (1)
secrets:
  password:
    file: ./secrets/flame_password
